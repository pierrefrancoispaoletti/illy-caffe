(this["webpackJsonpilly-caffe"]=this["webpackJsonpilly-caffe"]||[]).push([[4],{101:function(e,t,c){"use strict";c.r(t);var n,i,r,o=c(10),l=c(0),s=c(8),d=c(6),u=c(40),a=c(50),j=c(48),b=c(14),O=c(3),v=c(4),f=c(2),p=v.b.div(n||(n=Object(O.a)(["\n  position: relative;\n  margin: 12px 0px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n"]))),x=v.b.div(i||(i=Object(O.a)(["\n  margin: 8px;\n"]))),h=v.b.button(r||(r=Object(O.a)(["\n  border: none;\n  outline: none;\n  border-radius: 50px;\n  padding: 12px;\n  background: ",";\n  :active {\n    background: black;\n  }\n"])),f.a.main),y=c(47),g=c(17),m=c(18),k=c(1),C=function(e){var t=e._id,c=e.product,n=Object(s.c)(m.a).token,i=Object(s.b)();return Object(k.jsxs)(p,{children:[Object(k.jsx)(x,{children:Object(k.jsx)(h,{type:"button",onClick:function(){i(Object(g.e)("editer")),i(Object(g.d)(c))},children:Object(k.jsx)(b.a,{icon:j.c,size:"2x",color:"purple"})})}),Object(k.jsx)(x,{children:Object(k.jsx)(h,{type:"button",onClick:function(){return Object(y.d)({_id:t,visible:!(null===c||void 0===c?void 0:c.visible)},i,n)},children:Object(k.jsx)(b.a,{icon:(null===c||void 0===c?void 0:c.visible)?j.d:j.e,size:"2x",color:"grey"})})}),Object(k.jsx)(x,{children:Object(k.jsx)(h,{type:"button",onClick:function(){return Object(y.b)(t,i,n)},children:Object(k.jsx)(b.a,{icon:j.f,size:"2x",color:"red"})})})]})},w=c(25),E=function(e){var t=e.couleur;return Object(k.jsx)(w.h,{children:t.map((function(e){return(null===e||void 0===e?void 0:e.isChecked)&&Object(k.jsx)(w.i,{className:"price wineprice",color:e.value,children:Object(k.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(k.jsxs)("span",{children:[Object(k.jsx)(b.a,{icon:j.g,size:"1x"})," :"]}),Object(k.jsxs)("span",{children:[Number(e.price).toFixed(2)," \u20ac"]})]})},e.value)}))})},F=function(e){var t=e.product,c=t._id,n=t.price,i=t.description,r=t.title,o=t.visible,l=t.category,d=t.couleur;console.log(i);var u=Object(s.c)(m.a);return Object(k.jsxs)(w.d,{visible:"isAdmin"===(null===u||void 0===u?void 0:u.role)||o,children:[u&&"isAdmin"===u.role&&Object(k.jsx)(C,{_id:c,product:t}),Object(k.jsxs)("h3",{className:"title",children:[Object(k.jsx)("span",{children:"".concat(o?"":"CACH\xc9 : "," ").concat(r)}),"le-vin"!==l||d.every((function(e){return!e.isChecked}))?Object(k.jsxs)("span",{className:"price",children:[null===n||void 0===n?void 0:n.toFixed(2)," \u20ac"]}):Object(k.jsx)(E,{couleur:d})]}),Object(k.jsx)("p",{className:"description",children:i})]})},N=c(59),_=function(e){var t=e.loading,c=e.products,n=e.setFilter,i=e.filter;return Object(k.jsx)(N.a,{setFilter:n,filter:i,children:t?Object(k.jsx)(a.a,{}):null===c||void 0===c?void 0:c.map((function(e){return Object(k.jsxs)("div",{style:{width:"100%"},children:[(null===e||void 0===e?void 0:e.subCategory)&&Object(u.b)(e),Object(k.jsx)(F,{product:e})]},e._id)}))})},z=c(46);var A=function(e,t){var c=Object(s.c)(Object(z.c)(t)),n=Object(s.b)();return Object(l.useEffect)((function(){Object(y.c)(f.b,n,e)}),[n,e,t]),c},J=c(24),L=function(){var e=Object(l.useCallback)((function(e){document.querySelectorAll(".".concat(e)).forEach((function(e,t){t>0&&(null===e||void 0===e||e.remove())}))}),[]);Object(l.useLayoutEffect)((function(){(null===J.a||void 0===J.a?void 0:J.a.map((function(e){var t;return null===e||void 0===e||null===(t=e.subCategory)||void 0===t?void 0:t.map((function(e){return null===e||void 0===e?void 0:e.slug}))})).filter((function(e){return void 0!==e})).flat()).forEach((function(t){return e(t)}))}))};t.default=function(e){var t=e.loading,c=e.setLoading,n=Object(d.h)().category||"today";A(c,n),L();var i=Object(l.useState)(""),r=Object(o.a)(i,2),u=r[0],a=r[1],j=Object(s.c)(Object(z.d)(u,n));return Object(l.useEffect)((function(){a("")}),[t,n]),Object(k.jsx)("main",{children:Object(k.jsx)(_,{products:j,loading:t,setFilter:a,filter:u})})}}}]);
//# sourceMappingURL=4.bbd6f99f.chunk.js.map