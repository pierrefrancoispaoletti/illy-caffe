{"version":3,"sources":["redux/reducers/User/querries.js","pages/Login/login.style.js","pages/Login/Login.js"],"names":["logger","credentials","a","email","password","axios","method","url","developmentServer","data","response","console","log","LoginContainer","styled","div","FormContainer","form","LoginButton","button","Login","dispatch","useDispatch","useState","user","setUser","setCredentials","e","target","name","value","handleSubmit","preventDefault","setCurrentUser","token","role","setUserMessage","message","onSubmit","FormInput","type","label","handleChange","required"],"mappings":"wOAGaA,EAAM,uCAAG,WAAOC,GAAP,mBAAAC,EAAA,6DACZC,EAAoBF,EAApBE,MAAOC,EAAaH,EAAbG,SADK,kBAGKC,IAAM,CAC3BC,OAAQ,OACRC,IAAI,GAAD,OAAKC,IAAL,eACHC,KAAM,CAAEN,QAAOC,cANC,cAGZM,EAHY,yBAQXA,EAASD,MARE,gCAUlBE,QAAQC,IAAR,MAVkB,yDAAH,sD,cCDNC,EAAiBC,IAAOC,IAAV,2jBA2BdC,EAAgBF,IAAOG,KAAV,6HAObC,EAAcJ,IAAOK,OAAV,oM,OCiBTC,UA3CD,WACZ,IAAMC,EAAWC,cACjB,EAAwBC,mBAAS,CAAEpB,MAAO,GAAIC,SAAU,KAAxD,mBAAOoB,EAAP,KAAaC,EAAb,KAEMC,EAAiB,SAACC,GACtB,MAAwBA,EAAEC,OAAlBC,EAAR,EAAQA,KAAMC,EAAd,EAAcA,MACdL,EAAQ,2BAAKD,GAAN,kBAAaK,EAAOC,MAGvBC,EAAY,uCAAG,WAAOJ,GAAP,eAAAzB,EAAA,6DACnByB,EAAEK,iBADiB,SAEIhC,EAAOwB,GAFX,OAEbd,EAFa,OAGnBW,EAASY,YAAe,CAAEC,MAAOxB,EAASwB,MAAOC,KAAMzB,EAASyB,QAChEd,EAASe,YAAe1B,EAAS2B,UAJd,2CAAH,sDAMlB,OACE,+BACE,eAACxB,EAAD,WACE,2CACA,eAACG,EAAD,CAAesB,SAAUP,EAAzB,UACE,cAACQ,EAAA,EAAD,CACEC,KAAK,QACLX,KAAK,QACLY,MAAM,SACNX,MAAON,EAAKrB,MACZuC,aAAchB,EACdiB,UAAQ,IAEV,cAACJ,EAAA,EAAD,CACEC,KAAK,WACLX,KAAK,WACLY,MAAM,eACNX,MAAON,EAAKpB,SACZsC,aAAchB,EACdiB,UAAQ,IAEV,cAACzB,EAAD,CAAasB,KAAK,SAAlB","file":"static/js/6.9a20beb6.chunk.js","sourcesContent":["import axios from \"axios\";\nimport { developmentServer } from \"../../../_const\";\n\nexport const logger = async (credentials) => {\n  const { email, password } = credentials;\n  try {\n    const response = await axios({\n      method: \"POST\",\n      url: `${developmentServer}/auth/login`,\n      data: { email, password },\n    });\n    return response.data;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const validateToken = (token) => {\n  return axios({\n    method: \"POST\",\n    url: `${developmentServer}/verify/`,\n    data: { token },\n  });\n};\n","import styled from \"styled-components\";\n\nexport const LoginContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  border-radius: 50px;\n  margin: 12px;\n  background: linear-gradient(to right, #fdfdfd, #fe0000);\n  background-size: 400% 400%;\n  padding-bottom: 12px;\n  animation: backgroundMoving 25s infinite ease;\n  @keyframes backgroundMoving {\n    0% {\n      background-position: 92% 0%;\n    }\n    50% {\n      background-position: 9% 100%;\n    }\n    100% {\n      background-position: 92% 0%;\n    }\n  }\n  & > h2 {\n    color: #fdfdfd;\n  }\n`;\n\nexport const FormContainer = styled.form`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n`;\n\nexport const LoginButton = styled.button`\n  font-size: 2em;\n  background-color: transparent;\n  outline: none;\n  color: #fdfdfd;\n  border: 3px solid #fdfdfd;\n  border-radius: 50px;\n  background: #fe0000;\n`;\n","import React, { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport FormInput from \"../../components/FormInput/FormInput\";\nimport {\n  setCurrentUser,\n  setUserMessage,\n} from \"../../redux/reducers/User/actions\";\nimport { logger } from \"../../redux/reducers/User/querries\";\nimport { FormContainer, LoginButton, LoginContainer } from \"./login.style\";\n\nconst Login = () => {\n  const dispatch = useDispatch();\n  const [user, setUser] = useState({ email: \"\", password: \"\" });\n\n  const setCredentials = (e) => {\n    const { name, value } = e.target;\n    setUser({ ...user, [name]: value });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const response = await logger(user);\n    dispatch(setCurrentUser({ token: response.token, role: response.role }));\n    dispatch(setUserMessage(response.message));\n  };\n  return (\n    <main>\n      <LoginContainer>\n        <h2>Connexion</h2>\n        <FormContainer onSubmit={handleSubmit}>\n          <FormInput\n            type=\"email\"\n            name=\"email\"\n            label=\"e-mail\"\n            value={user.email}\n            handleChange={setCredentials}\n            required\n          />\n          <FormInput\n            type=\"password\"\n            name=\"password\"\n            label=\"mot de passe\"\n            value={user.password}\n            handleChange={setCredentials}\n            required\n          />\n          <LoginButton type=\"submit\">Se Connecter</LoginButton>\n        </FormContainer>\n      </LoginContainer>\n    </main>\n  );\n};\n\nexport default Login;\n"],"sourceRoot":""}