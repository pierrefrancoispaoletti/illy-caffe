(this["webpackJsonpilly-caffe"]=this["webpackJsonpilly-caffe"]||[]).push([[4],{100:function(e,n,c){"use strict";c.r(n);var i,t,r,o=c(16),l=c(0),s=c(8),d=c(27),u=c(48),a=c(99),b=c(10),j=c(3),v=c(4),O=c(2),f=v.b.div(i||(i=Object(j.a)(["\n  position: relative;\n  margin: 12px 0px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n"]))),x=v.b.div(t||(t=Object(j.a)(["\n  margin: 8px;\n"]))),p=v.b.button(r||(r=Object(j.a)(["\n  border: none;\n  outline: none;\n  border-radius: 50px;\n  padding: 12px;\n  background: ",";\n  :active {\n    background: black;\n  }\n"])),O.a.main),h=c(46),g=c(17),y=c(18),m=c(1),C=function(e){var n=e._id,c=e.product,i=Object(s.c)(y.a).token,t=Object(s.b)();return Object(m.jsxs)(f,{children:[Object(m.jsx)(x,{children:Object(m.jsx)(p,{type:"button",onClick:function(){t(Object(g.e)("editer")),t(Object(g.d)(c))},children:Object(m.jsx)(b.a,{icon:a.a,size:"2x",color:"purple"})})}),Object(m.jsx)(x,{children:Object(m.jsx)(p,{type:"button",onClick:function(){return Object(h.d)({_id:n,visible:!(null===c||void 0===c?void 0:c.visible)},t,i)},children:Object(m.jsx)(b.a,{icon:(null===c||void 0===c?void 0:c.visible)?a.b:a.c,size:"2x",color:"grey"})})}),Object(m.jsx)(x,{children:Object(m.jsx)(p,{type:"button",onClick:function(){return Object(h.b)(n,t,i)},children:Object(m.jsx)(b.a,{icon:a.d,size:"2x",color:"red"})})})]})},k=c(25),w=function(e){var n=e.couleur;return Object(m.jsx)(k.g,{children:n.map((function(e){return(null===e||void 0===e?void 0:e.isChecked)&&Object(m.jsx)(k.h,{className:"price wineprice",color:e.value,children:Object(m.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(m.jsxs)("span",{children:[Object(m.jsx)(b.a,{icon:a.e,size:"1x"})," :"]}),Object(m.jsxs)("span",{children:[Number(e.price).toFixed(2)," \u20ac"]})]})},e.value)}))})},N=function(e){var n=e.product,c=n._id,i=n.price,t=n.description,r=n.title,o=n.visible,l=n.category,d=n.couleur,u=Object(s.c)(y.a);return Object(m.jsxs)(k.c,{visible:"isAdmin"===(null===u||void 0===u?void 0:u.role)||o,children:[u&&"isAdmin"===u.role&&Object(m.jsx)(C,{_id:c,product:n}),Object(m.jsxs)("h3",{className:"title",children:[Object(m.jsx)("span",{children:"".concat(o?"":"CACH\xc9 : "," ").concat(r)}),"le-vin"!==l||d.every((function(e){return!e.isChecked}))?Object(m.jsxs)("span",{className:"price",children:[null===i||void 0===i?void 0:i.toFixed(2)," \u20ac"]}):Object(m.jsx)(w,{couleur:d})]}),Object(m.jsx)("p",{className:"description",children:t})]})},E=c(57),F=function(e){var n=e.loading,c=e.products,i=e.setFilter,t=e.filter,r=Object(l.useCallback)((function(e){var n,c,i=null===(n=d.a.map((function(n){var i;return(null===n||void 0===n?void 0:n.slug)===(null===e||void 0===e?void 0:e.category)&&(null===n||void 0===n||null===(i=n.subCategory)||void 0===i?void 0:i.find((function(n){return(null===n||void 0===n?void 0:n.slug)===(null===e||void 0===e?void 0:e.subCategory)&&(c=null===n||void 0===n?void 0:n.slug),(null===n||void 0===n?void 0:n.slug)===(null===e||void 0===e?void 0:e.subCategory)})))})).filter((function(e){return e}))[0])||void 0===n?void 0:n.name;return Object(m.jsx)("span",{className:"subcategory ".concat(c),children:i})}),[]);return Object(l.useEffect)((function(){["classiques","monoarabica","sp\xe9ciaux","illy-crema","domori","recettes-froides","sodas","eaux","softs","granita","bieres"].forEach((function(e){return n=e,void document.querySelectorAll(".".concat(n)).forEach((function(e,n){n>0&&(null===e||void 0===e||e.remove())}));var n}))})),Object(m.jsx)(E.a,{setFilter:i,filter:t,children:n?Object(m.jsx)(u.a,{}):null===c||void 0===c?void 0:c.map((function(e){return Object(m.jsxs)("div",{style:{width:"100%"},children:[(null===e||void 0===e?void 0:e.subCategory)&&r(e),Object(m.jsx)(N,{product:e})]},e._id)}))})},_=c(45),z=c(6);var A=function(e){var n=Object(s.c)(_.c),c=Object(z.h)().category,i=Object(s.b)();return Object(l.useEffect)((function(){Object(h.c)(O.b,c,i,e)}),[i,e,c]),n};n.default=function(e){var n=e.loading,c=e.setLoading;A(c);var i=Object(l.useState)(""),t=Object(o.a)(i,2),r=t[0],d=t[1],u=Object(s.c)(Object(_.d)(r));return Object(l.useEffect)((function(){d("")}),[n]),Object(m.jsx)("main",{children:Object(m.jsx)(F,{products:u,loading:n,setFilter:d,filter:r})})}}}]);
//# sourceMappingURL=4.d6e64381.chunk.js.map