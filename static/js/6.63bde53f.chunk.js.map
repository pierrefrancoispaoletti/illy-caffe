{"version":3,"sources":["redux/reducers/User/querries.js","pages/Login/login.style.js","pages/Login/Login.js"],"names":["logger","credentials","dispatch","a","email","password","axios","method","url","developmentServer","data","response","console","log","status","setCurrentUser","token","role","setUserMessage","message","LoginContainer","styled","div","FormContainer","form","LoginButton","button","props","disabled","css","Login","useDispatch","useState","user","setUser","setCredentials","e","target","name","value","handleSubmit","preventDefault","onSubmit","FormInput","type","label","handleChange","required"],"mappings":"0OAIaA,EAAM,uCAAG,WAAOC,EAAaC,GAApB,mBAAAC,EAAA,6DACZC,EAAoBH,EAApBG,MAAOC,EAAaJ,EAAbI,SADK,kBAGKC,IAAM,CAC3BC,OAAQ,OACRC,IAAI,GAAD,OAAKC,IAAL,eACHC,KAAM,CAAEN,QAAOC,cANC,OAGZM,EAHY,OAQlBC,QAAQC,IAAIF,GACiB,MAAzBA,EAASD,KAAKI,QAChBZ,EACEa,YAAe,CAAEC,MAAOL,EAASD,KAAKM,MAAOC,KAAMN,EAASD,KAAKO,QAGrEf,EAASgB,YAAeP,EAASD,KAAKS,UAdpB,kDAgBlBjB,EAASgB,YAAe,gCAhBN,0DAAH,wD,cCMNE,EAAiBC,IAAOC,IAAV,2jBA2BdC,EAAgBF,IAAOG,KAAV,6HAObC,EAAcJ,IAAOK,OAAV,2MA1CL,SAACC,GAClB,GAAIA,EAAMC,SACR,OAAOC,YAAP,4D,OCiDWC,UA3CD,WACZ,IAAM5B,EAAW6B,cACjB,EAAwBC,mBAAS,CAAE5B,MAAO,GAAIC,SAAU,KAAxD,mBAAO4B,EAAP,KAAaC,EAAb,KAEMC,EAAiB,SAACC,GACtB,MAAwBA,EAAEC,OAAlBC,EAAR,EAAQA,KAAMC,EAAd,EAAcA,MACdL,EAAQ,2BAAKD,GAAN,kBAAaK,EAAOC,MAGvBC,EAAY,uCAAG,WAAOJ,GAAP,SAAAjC,EAAA,sDACnBiC,EAAEK,iBACFzC,EAAOiC,EAAM/B,GAFM,2CAAH,sDAIlB,OACE,+BACE,eAACkB,EAAD,WACE,2CACA,eAACG,EAAD,CAAemB,SAAUF,EAAzB,UACE,cAACG,EAAA,EAAD,CACEC,KAAK,QACLN,KAAK,QACLO,MAAM,SACNN,MAAON,EAAK7B,MACZ0C,aAAcX,EACdY,UAAQ,IAEV,cAACJ,EAAA,EAAD,CACEC,KAAK,WACLN,KAAK,WACLO,MAAM,eACNN,MAAON,EAAK5B,SACZyC,aAAcX,EACdY,UAAQ,IAEV,cAACtB,EAAD,CAAaG,UAAWK,EAAK5B,WAAa4B,EAAK7B,MAAOwC,KAAK,SAA3D","file":"static/js/6.63bde53f.chunk.js","sourcesContent":["import axios from \"axios\";\nimport { developmentServer } from \"../../../_const\";\nimport { setCurrentUser, setUserMessage } from \"./actions\";\n\nexport const logger = async (credentials, dispatch) => {\n  const { email, password } = credentials;\n  try {\n    const response = await axios({\n      method: \"POST\",\n      url: `${developmentServer}/auth/login`,\n      data: { email, password },\n    });\n    console.log(response);\n    if (response.data.status === 200) {\n      dispatch(\n        setCurrentUser({ token: response.data.token, role: response.data.role })\n      );\n    }\n    dispatch(setUserMessage(response.data.message));\n  } catch (error) {\n    dispatch(setUserMessage(\"Il y à eu un problème\"));\n  }\n};\n\nexport const validateToken = (token) => {\n  return axios({\n    method: \"POST\",\n    url: `${developmentServer}/verify/`,\n    data: { token },\n  });\n};\n","import styled, { css } from \"styled-components\";\n\nconst isDisabled = (props) => {\n  if (props.disabled) {\n    return css`\n      background: #ccc;\n    `;\n  }\n};\n\nexport const LoginContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  border-radius: 50px;\n  margin: 12px;\n  background: linear-gradient(to right, #fdfdfd, #fe0000);\n  background-size: 400% 400%;\n  padding-bottom: 12px;\n  animation: backgroundMoving 25s infinite ease;\n  @keyframes backgroundMoving {\n    0% {\n      background-position: 92% 0%;\n    }\n    50% {\n      background-position: 9% 100%;\n    }\n    100% {\n      background-position: 92% 0%;\n    }\n  }\n  & > h2 {\n    color: #fdfdfd;\n  }\n`;\n\nexport const FormContainer = styled.form`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n`;\n\nexport const LoginButton = styled.button`\n  font-size: 2em;\n  background-color: transparent;\n  outline: none;\n  color: #fdfdfd;\n  border: 3px solid #fdfdfd;\n  border-radius: 50px;\n  background: #fe0000;\n  ${isDisabled}\n`;\n","import React, { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport FormInput from \"../../components/FormInput/FormInput\";\nimport {\n  setCurrentUser,\n  setUserMessage,\n} from \"../../redux/reducers/User/actions\";\nimport { logger } from \"../../redux/reducers/User/querries\";\nimport { FormContainer, LoginButton, LoginContainer } from \"./login.style\";\n\nconst Login = () => {\n  const dispatch = useDispatch();\n  const [user, setUser] = useState({ email: \"\", password: \"\" });\n\n  const setCredentials = (e) => {\n    const { name, value } = e.target;\n    setUser({ ...user, [name]: value });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    logger(user, dispatch);\n  };\n  return (\n    <main>\n      <LoginContainer>\n        <h2>Connexion</h2>\n        <FormContainer onSubmit={handleSubmit}>\n          <FormInput\n            type=\"email\"\n            name=\"email\"\n            label=\"e-mail\"\n            value={user.email}\n            handleChange={setCredentials}\n            required\n          />\n          <FormInput\n            type=\"password\"\n            name=\"password\"\n            label=\"mot de passe\"\n            value={user.password}\n            handleChange={setCredentials}\n            required\n          />\n          <LoginButton disabled={!user.password || !user.email} type=\"submit\">\n            Se Connecter\n          </LoginButton>\n        </FormContainer>\n      </LoginContainer>\n    </main>\n  );\n};\n\nexport default Login;\n"],"sourceRoot":""}