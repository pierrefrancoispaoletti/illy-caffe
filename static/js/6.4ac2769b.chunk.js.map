{"version":3,"sources":["redux/reducers/User/querries.js","pages/Login/login.style.js","pages/Login/Login.js"],"names":["logger","credentials","dispatch","setLoading","a","email","password","axios","method","url","developmentServer","data","response","console","log","status","setCurrentUser","token","role","setUserMessage","message","LoginContainer","styled","div","FormContainer","form","LoginButton","button","props","disabled","css","Login","loading","useDispatch","useState","user","setUser","setCredentials","e","target","name","value","handleSubmit","preventDefault","LoaderElement","onSubmit","FormInput","type","label","handleChange","required"],"mappings":"kPAIaA,EAAM,uCAAG,WAAOC,EAAaC,EAAUC,GAA9B,mBAAAC,EAAA,6DACZC,EAAoBJ,EAApBI,MAAOC,EAAaL,EAAbK,SACfH,GAAW,GAFS,kBAIKI,IAAM,CAC3BC,OAAQ,OACRC,IAAI,GAAD,OAAKC,IAAL,eACHC,KAAM,CAAEN,QAAOC,cAPC,OAIZM,EAJY,OASlBC,QAAQC,IAAIF,GACiB,MAAzBA,EAASD,KAAKI,QAChBb,EACEc,YAAe,CAAEC,MAAOL,EAASD,KAAKM,MAAOC,KAAMN,EAASD,KAAKO,QAGrEhB,EAASiB,YAAeP,EAASD,KAAKS,UACtCjB,GAAW,GAhBO,kDAkBlBD,EAASiB,YAAe,gCAlBN,0DAAH,0D,cCMNE,EAAiBC,IAAOC,IAAV,2jBA2BdC,EAAgBF,IAAOG,KAAV,6HAObC,EAAcJ,IAAOK,OAAV,2MA1CL,SAACC,GAClB,GAAIA,EAAMC,SACR,OAAOC,YAAP,4D,OCkDWC,UA/CD,SAAC,GAA6B,IAA3BC,EAA0B,EAA1BA,QAAS7B,EAAiB,EAAjBA,WAClBD,EAAW+B,cACjB,EAAwBC,mBAAS,CAAE7B,MAAO,GAAIC,SAAU,KAAxD,mBAAO6B,EAAP,KAAaC,EAAb,KAEMC,EAAiB,SAACC,GACtB,MAAwBA,EAAEC,OAAlBC,EAAR,EAAQA,KAAMC,EAAd,EAAcA,MACdL,EAAQ,2BAAKD,GAAN,kBAAaK,EAAOC,MAGvBC,EAAY,uCAAG,WAAOJ,GAAP,SAAAlC,EAAA,sDACnBkC,EAAEK,iBACF3C,EAAOmC,EAAMjC,EAAUC,GAFJ,2CAAH,sDAIlB,OACE,+BACE,eAACkB,EAAD,WACE,2CACCW,EACC,cAACY,EAAA,EAAD,IAEA,eAACpB,EAAD,CAAeqB,SAAUH,EAAzB,UACE,cAACI,EAAA,EAAD,CACEC,KAAK,QACLP,KAAK,QACLQ,MAAM,SACNP,MAAON,EAAK9B,MACZ4C,aAAcZ,EACda,UAAQ,IAEV,cAACJ,EAAA,EAAD,CACEC,KAAK,WACLP,KAAK,WACLQ,MAAM,eACNP,MAAON,EAAK7B,SACZ2C,aAAcZ,EACda,UAAQ,IAEV,cAACxB,EAAD,CAAaG,UAAWM,EAAK7B,WAAa6B,EAAK9B,MAAO0C,KAAK,SAA3D","file":"static/js/6.4ac2769b.chunk.js","sourcesContent":["import axios from \"axios\";\nimport { developmentServer } from \"../../../_const\";\nimport { setCurrentUser, setUserMessage } from \"./actions\";\n\nexport const logger = async (credentials, dispatch, setLoading) => {\n  const { email, password } = credentials;\n  setLoading(true);\n  try {\n    const response = await axios({\n      method: \"POST\",\n      url: `${developmentServer}/auth/login`,\n      data: { email, password },\n    });\n    console.log(response);\n    if (response.data.status === 200) {\n      dispatch(\n        setCurrentUser({ token: response.data.token, role: response.data.role })\n      );\n    }\n    dispatch(setUserMessage(response.data.message));\n    setLoading(false);\n  } catch (error) {\n    dispatch(setUserMessage(\"Il y à eu un problème\"));\n  }\n};\n\nexport const validateToken = (token) => {\n  return axios({\n    method: \"POST\",\n    url: `${developmentServer}/verify/`,\n    data: { token },\n  });\n};\n","import styled, { css } from \"styled-components\";\n\nconst isDisabled = (props) => {\n  if (props.disabled) {\n    return css`\n      background: #ccc;\n    `;\n  }\n};\n\nexport const LoginContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  border-radius: 50px;\n  margin: 12px;\n  background: linear-gradient(to right, #fdfdfd, #fe0000);\n  background-size: 400% 400%;\n  padding-bottom: 12px;\n  animation: backgroundMoving 25s infinite ease;\n  @keyframes backgroundMoving {\n    0% {\n      background-position: 92% 0%;\n    }\n    50% {\n      background-position: 9% 100%;\n    }\n    100% {\n      background-position: 92% 0%;\n    }\n  }\n  & > h2 {\n    color: #fdfdfd;\n  }\n`;\n\nexport const FormContainer = styled.form`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n`;\n\nexport const LoginButton = styled.button`\n  font-size: 2em;\n  background-color: transparent;\n  outline: none;\n  color: #fdfdfd;\n  border: 3px solid #fdfdfd;\n  border-radius: 50px;\n  background: #fe0000;\n  ${isDisabled}\n`;\n","import React, { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport FormInput from \"../../components/FormInput/FormInput\";\nimport LoaderElement from \"../../components/Loader/LoaderElement\";\nimport { logger } from \"../../redux/reducers/User/querries\";\nimport { FormContainer, LoginButton, LoginContainer } from \"./login.style\";\n\nconst Login = ({ loading, setLoading }) => {\n  const dispatch = useDispatch();\n  const [user, setUser] = useState({ email: \"\", password: \"\" });\n\n  const setCredentials = (e) => {\n    const { name, value } = e.target;\n    setUser({ ...user, [name]: value });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    logger(user, dispatch, setLoading);\n  };\n  return (\n    <main>\n      <LoginContainer>\n        <h2>Connexion</h2>\n        {loading ? (\n          <LoaderElement />\n        ) : (\n          <FormContainer onSubmit={handleSubmit}>\n            <FormInput\n              type=\"email\"\n              name=\"email\"\n              label=\"e-mail\"\n              value={user.email}\n              handleChange={setCredentials}\n              required\n            />\n            <FormInput\n              type=\"password\"\n              name=\"password\"\n              label=\"mot de passe\"\n              value={user.password}\n              handleChange={setCredentials}\n              required\n            />\n            <LoginButton disabled={!user.password || !user.email} type=\"submit\">\n              Se Connecter\n            </LoginButton>\n          </FormContainer>\n        )}\n      </LoginContainer>\n    </main>\n  );\n};\n\nexport default Login;\n"],"sourceRoot":""}